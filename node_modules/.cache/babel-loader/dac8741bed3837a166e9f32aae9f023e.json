{"ast":null,"code":"\"use strict\";\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isFilterObject = void 0;\n\nconst address_js_1 = require(\"./address.js\");\n\nconst block_js_1 = require(\"./block.js\");\n\nconst object_js_1 = require(\"./object.js\");\n\nconst topic_js_1 = require(\"./topic.js\");\n/**\n * First we check if all properties in the provided value are expected,\n * then because all Filter properties are optional, we check if the expected properties\n * are defined. If defined and they're not the expected type, we immediately return false,\n * otherwise we return true after all checks pass.\n */\n\n\nconst isFilterObject = value => {\n  const expectedFilterProperties = ['fromBlock', 'toBlock', 'address', 'topics', 'blockHash'];\n  if ((0, object_js_1.isNullish)(value) || typeof value !== 'object') return false;\n  if (!Object.keys(value).every(property => expectedFilterProperties.includes(property))) return false;\n  if (!(0, object_js_1.isNullish)(value.fromBlock) && !(0, block_js_1.isBlockNumberOrTag)(value.fromBlock) || !(0, object_js_1.isNullish)(value.toBlock) && !(0, block_js_1.isBlockNumberOrTag)(value.toBlock)) return false;\n\n  if (!(0, object_js_1.isNullish)(value.address)) {\n    if (Array.isArray(value.address)) {\n      if (!value.address.every(address => (0, address_js_1.isAddress)(address))) return false;\n    } else if (!(0, address_js_1.isAddress)(value.address)) return false;\n  }\n\n  if (!(0, object_js_1.isNullish)(value.topics)) {\n    if (!value.topics.every(topic => {\n      if ((0, object_js_1.isNullish)(topic)) return true;\n\n      if (Array.isArray(topic)) {\n        return topic.every(nestedTopic => (0, topic_js_1.isTopic)(nestedTopic));\n      }\n\n      if ((0, topic_js_1.isTopic)(topic)) return true;\n      return false;\n    })) return false;\n  }\n\n  return true;\n};\n\nexports.isFilterObject = isFilterObject;","map":{"version":3,"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;AAkBA;;AACA;;AACA;;AACA;AAEA;;;;;;;;AAMO,MAAMA,cAAc,GAAIC,KAAD,IAAkB;EAC/C,MAAMC,wBAAwB,GAAqB,CAClD,WADkD,EAElD,SAFkD,EAGlD,SAHkD,EAIlD,QAJkD,EAKlD,WALkD,CAAnD;EAOA,IAAI,2BAAUD,KAAV,KAAoB,OAAOA,KAAP,KAAiB,QAAzC,EAAmD,OAAO,KAAP;EAEnD,IACC,CAACE,MAAM,CAACC,IAAP,CAAYH,KAAZ,EAAmBI,KAAnB,CAAyBC,QAAQ,IACjCJ,wBAAwB,CAACK,QAAzB,CAAkCD,QAAlC,CADA,CADF,EAKC,OAAO,KAAP;EAED,IACE,CAAC,2BAAUL,KAAK,CAACO,SAAhB,CAAD,IAA+B,CAAC,mCAAmBP,KAAK,CAACO,SAAzB,CAAjC,IACC,CAAC,2BAAUP,KAAK,CAACQ,OAAhB,CAAD,IAA6B,CAAC,mCAAmBR,KAAK,CAACQ,OAAzB,CAFhC,EAIC,OAAO,KAAP;;EAED,IAAI,CAAC,2BAAUR,KAAK,CAACS,OAAhB,CAAL,EAA+B;IAC9B,IAAIC,KAAK,CAACC,OAAN,CAAcX,KAAK,CAACS,OAApB,CAAJ,EAAkC;MACjC,IAAI,CAACT,KAAK,CAACS,OAAN,CAAcL,KAAd,CAAoBK,OAAO,IAAI,4BAAUA,OAAV,CAA/B,CAAL,EAAyD,OAAO,KAAP;IACzD,CAFD,MAEO,IAAI,CAAC,4BAAUT,KAAK,CAACS,OAAhB,CAAL,EAA+B,OAAO,KAAP;EACtC;;EAED,IAAI,CAAC,2BAAUT,KAAK,CAACY,MAAhB,CAAL,EAA8B;IAC7B,IACC,CAACZ,KAAK,CAACY,MAAN,CAAaR,KAAb,CAAmBS,KAAK,IAAG;MAC3B,IAAI,2BAAUA,KAAV,CAAJ,EAAsB,OAAO,IAAP;;MAEtB,IAAIH,KAAK,CAACC,OAAN,CAAcE,KAAd,CAAJ,EAA0B;QACzB,OAAOA,KAAK,CAACT,KAAN,CAAYU,WAAW,IAAI,wBAAQA,WAAR,CAA3B,CAAP;MACA;;MAED,IAAI,wBAAQD,KAAR,CAAJ,EAAoB,OAAO,IAAP;MAEpB,OAAO,KAAP;IACA,CAVA,CADF,EAaC,OAAO,KAAP;EACD;;EAED,OAAO,IAAP;AACA,CA/CM;;AAAME,yBAAchB,cAAd","names":["isFilterObject","value","expectedFilterProperties","Object","keys","every","property","includes","fromBlock","toBlock","address","Array","isArray","topics","topic","nestedTopic","exports"],"sources":["/home/rupam/Desktop/Faucet-React/node_modules/web3-validator/src/validation/filter.ts"],"sourcesContent":["ï»¿/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nimport { Filter } from 'web3-types';\nimport { isAddress } from './address.js';\nimport { isBlockNumberOrTag } from './block.js';\nimport { isNullish } from './object.js';\nimport { isTopic } from './topic.js';\n\n/**\n * First we check if all properties in the provided value are expected,\n * then because all Filter properties are optional, we check if the expected properties\n * are defined. If defined and they're not the expected type, we immediately return false,\n * otherwise we return true after all checks pass.\n */\nexport const isFilterObject = (value: Filter) => {\n\tconst expectedFilterProperties: (keyof Filter)[] = [\n\t\t'fromBlock',\n\t\t'toBlock',\n\t\t'address',\n\t\t'topics',\n\t\t'blockHash',\n\t];\n\tif (isNullish(value) || typeof value !== 'object') return false;\n\n\tif (\n\t\t!Object.keys(value).every(property =>\n\t\t\texpectedFilterProperties.includes(property as keyof Filter),\n\t\t)\n\t)\n\t\treturn false;\n\n\tif (\n\t\t(!isNullish(value.fromBlock) && !isBlockNumberOrTag(value.fromBlock)) ||\n\t\t(!isNullish(value.toBlock) && !isBlockNumberOrTag(value.toBlock))\n\t)\n\t\treturn false;\n\n\tif (!isNullish(value.address)) {\n\t\tif (Array.isArray(value.address)) {\n\t\t\tif (!value.address.every(address => isAddress(address))) return false;\n\t\t} else if (!isAddress(value.address)) return false;\n\t}\n\n\tif (!isNullish(value.topics)) {\n\t\tif (\n\t\t\t!value.topics.every(topic => {\n\t\t\t\tif (isNullish(topic)) return true;\n\n\t\t\t\tif (Array.isArray(topic)) {\n\t\t\t\t\treturn topic.every(nestedTopic => isTopic(nestedTopic));\n\t\t\t\t}\n\n\t\t\t\tif (isTopic(topic)) return true;\n\n\t\t\t\treturn false;\n\t\t\t})\n\t\t)\n\t\t\treturn false;\n\t}\n\n\treturn true;\n};\n"]},"metadata":{},"sourceType":"script"}