{"ast":null,"code":"\"use strict\";\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LogsSubscription = void 0;\n\nconst web3_core_1 = require(\"web3-core\");\n\nconst web3_eth_1 = require(\"web3-eth\");\n/**\n * LogSubscription to be used to subscribe to events logs.\n *\n * Following events are supported and can be accessed with either {@link LogsSubscription.once} or ${@link LogsSubscription.on} methods.\n *\n * - **connected**: Emitted when the subscription is connected.\n * - **data**: Fires on each incoming event with the event object as argument.\n * - **changed**: Fires on each event which was removed from the blockchain. The event will have the additional property `removed: true`.\n * - **error**: Fires on each error.\n *\n * ```ts\n * const subscription = await myContract.events.MyEvent({\n *   filter: {myIndexedParam: [20,23], myOtherIndexedParam: '0x123456789...'}, // Using an array means OR: e.g. 20 or 23\n *   fromBlock: 0\n * });\n *\n * subscription.on(\"connected\", function(subscriptionId){\n *   console.log(subscriptionId);\n * });\n *\n * subscription.on('data', function(event){\n *   console.log(event); // same results as the optional callback above\n * });\n *\n * subscription.on('changed', function(event){\n *   // remove event from local database\n * })\n *\n * subscription.on('error', function(error, receipt) { // If the transaction was rejected by the network with a receipt, the second parameter will be the receipt.\n *   ...\n * });\n *\n * // event output example\n * > {\n *   returnValues: {\n *       myIndexedParam: 20,\n *       myOtherIndexedParam: '0x123456789...',\n *       myNonIndexParam: 'My String'\n *   },\n *   raw: {\n *       data: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n *       topics: ['0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7', '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385']\n *   },\n *   event: 'MyEvent',\n *   signature: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n *   logIndex: 0,\n *   transactionIndex: 0,\n *   transactionHash: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n *   blockHash: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n *   blockNumber: 1234,\n *   address: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'\n * }\n * ```\n */\n\n\nclass LogsSubscription extends web3_core_1.Web3Subscription {\n  constructor(args, options) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    super(args, options);\n    this.address = args.address;\n    this.topics = args.topics;\n    this.abi = args.abi;\n    this.jsonInterface = args.jsonInterface;\n  }\n\n  _buildSubscriptionParams() {\n    return ['logs', {\n      address: this.address,\n      topics: this.topics\n    }];\n  }\n\n  formatSubscriptionResult(data) {\n    return (0, web3_eth_1.decodeEventABI)(this.abi, data, this.jsonInterface, super.returnFormat);\n  }\n\n}\n\nexports.LogsSubscription = LogsSubscription;","map":{"version":3,"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,MAAaA,gBAAb,SAAsCC,4BAAtC,CAOC;EA0CAC,YACCC,IADD,EAQCC,OARD,EAaE;IAED;IACA,MAAMD,IAAN,EAAYC,OAAZ;IAEA,KAAKC,OAAL,GAAeF,IAAI,CAACE,OAApB;IACA,KAAKC,MAAL,GAAcH,IAAI,CAACG,MAAnB;IACA,KAAKC,GAAL,GAAWJ,IAAI,CAACI,GAAhB;IACA,KAAKC,aAAL,GAAqBL,IAAI,CAACK,aAA1B;EACA;;EAESC,wBAAwB;IACjC,OAAO,CAAC,MAAD,EAAS;MAAEJ,OAAO,EAAE,KAAKA,OAAhB;MAAyBC,MAAM,EAAE,KAAKA;IAAtC,CAAT,CAAP;EACA;;EAESI,wBAAwB,CAACC,IAAD,EAAe;IAChD,OAAO,+BAAe,KAAKJ,GAApB,EAAyBI,IAAzB,EAA4C,KAAKH,aAAjD,EAAgE,MAAMI,YAAtE,CAAP;EACA;;AAxED;;AAPDC","names":["LogsSubscription","web3_core_1","constructor","args","options","address","topics","abi","jsonInterface","_buildSubscriptionParams","formatSubscriptionResult","data","returnFormat","exports"],"sources":["/home/rupam/Desktop/Faucet-React/node_modules/web3-eth-contract/src/log_subscription.ts"],"sourcesContent":["ï»¿/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nimport {\n\tAbiEventFragment,\n\tLogsInput,\n\tHexString,\n\tTopic,\n\tDataFormat,\n\tEventLog,\n\tContractAbiWithSignature,\n} from 'web3-types';\nimport { Web3RequestManager, Web3Subscription, Web3SubscriptionManager } from 'web3-core';\nimport { decodeEventABI } from 'web3-eth';\n\n/**\n * LogSubscription to be used to subscribe to events logs.\n *\n * Following events are supported and can be accessed with either {@link LogsSubscription.once} or ${@link LogsSubscription.on} methods.\n *\n * - **connected**: Emitted when the subscription is connected.\n * - **data**: Fires on each incoming event with the event object as argument.\n * - **changed**: Fires on each event which was removed from the blockchain. The event will have the additional property `removed: true`.\n * - **error**: Fires on each error.\n *\n * ```ts\n * const subscription = await myContract.events.MyEvent({\n *   filter: {myIndexedParam: [20,23], myOtherIndexedParam: '0x123456789...'}, // Using an array means OR: e.g. 20 or 23\n *   fromBlock: 0\n * });\n *\n * subscription.on(\"connected\", function(subscriptionId){\n *   console.log(subscriptionId);\n * });\n *\n * subscription.on('data', function(event){\n *   console.log(event); // same results as the optional callback above\n * });\n *\n * subscription.on('changed', function(event){\n *   // remove event from local database\n * })\n *\n * subscription.on('error', function(error, receipt) { // If the transaction was rejected by the network with a receipt, the second parameter will be the receipt.\n *   ...\n * });\n *\n * // event output example\n * > {\n *   returnValues: {\n *       myIndexedParam: 20,\n *       myOtherIndexedParam: '0x123456789...',\n *       myNonIndexParam: 'My String'\n *   },\n *   raw: {\n *       data: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n *       topics: ['0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7', '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385']\n *   },\n *   event: 'MyEvent',\n *   signature: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n *   logIndex: 0,\n *   transactionIndex: 0,\n *   transactionHash: '0x7f9fade1c0d57a7af66ab4ead79fade1c0d57a7af66ab4ead7c2c2eb7b11a91385',\n *   blockHash: '0xfd43ade1c09fade1c0d57a7af66ab4ead7c2c2eb7b11a91ffdd57a7af66ab4ead7',\n *   blockNumber: 1234,\n *   address: '0xde0B295669a9FD93d5F28D9Ec85E40f4cb697BAe'\n * }\n * ```\n */\nexport class LogsSubscription extends Web3Subscription<\n\t{\n\t\tdata: EventLog;\n\t\tchanged: EventLog & { removed: true };\n\t},\n\t// eslint-disable-next-line @typescript-eslint/ban-types\n\t{ address?: HexString; topics?: (Topic | Topic[] | null)[]; abi: AbiEventFragment }\n> {\n\t/**\n\t * Address of tye contract\n\t */\n\tpublic readonly address?: HexString;\n\n\t/**\n\t * The list of topics subscribed\n\t */\n\t// eslint-disable-next-line @typescript-eslint/ban-types\n\tpublic readonly topics?: (Topic | Topic[] | null)[];\n\n\t/**\n\t * The {@doclink glossary/json_interface | JSON Interface} of the event.\n\t */\n\tpublic readonly abi: AbiEventFragment & { signature: HexString };\n\n\tpublic readonly jsonInterface: ContractAbiWithSignature;\n\n\tpublic constructor(\n\t\targs: {\n\t\t\taddress?: HexString;\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-types\n\t\t\ttopics?: (Topic | Topic[] | null)[];\n\t\t\tabi: AbiEventFragment & { signature: HexString };\n\t\t\tjsonInterface: ContractAbiWithSignature;\n\t\t},\n\t\toptions: { subscriptionManager: Web3SubscriptionManager; returnFormat?: DataFormat },\n\t);\n\t/**\n\t * @deprecated This constructor overloading should not be used\n\t */\n\tpublic constructor(\n\t\targs: {\n\t\t\taddress?: HexString;\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-types\n\t\t\ttopics?: (Topic | Topic[] | null)[];\n\t\t\tabi: AbiEventFragment & { signature: HexString };\n\t\t\tjsonInterface: ContractAbiWithSignature;\n\t\t},\n\t\toptions: { requestManager: Web3RequestManager; returnFormat?: DataFormat },\n\t);\n\tpublic constructor(\n\t\targs: {\n\t\t\taddress?: HexString;\n\t\t\t// eslint-disable-next-line @typescript-eslint/ban-types\n\t\t\ttopics?: (Topic | Topic[] | null)[];\n\t\t\tabi: AbiEventFragment & { signature: HexString };\n\t\t\tjsonInterface: ContractAbiWithSignature;\n\t\t},\n\t\toptions: (\n\t\t\t| { subscriptionManager: Web3SubscriptionManager }\n\t\t\t| { requestManager: Web3RequestManager }\n\t\t) & {\n\t\t\treturnFormat?: DataFormat;\n\t\t},\n\t) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n\t\tsuper(args, options as any);\n\n\t\tthis.address = args.address;\n\t\tthis.topics = args.topics;\n\t\tthis.abi = args.abi;\n\t\tthis.jsonInterface = args.jsonInterface;\n\t}\n\n\tprotected _buildSubscriptionParams() {\n\t\treturn ['logs', { address: this.address, topics: this.topics }];\n\t}\n\n\tprotected formatSubscriptionResult(data: EventLog) {\n\t\treturn decodeEventABI(this.abi, data as LogsInput, this.jsonInterface, super.returnFormat);\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}